<!DOCTYPE html>
<html style="height: 100%">
	<head>
		<meta charset="utf-8">
	</head>
	<body style="height: 100%; margin: 0">
		<div id="container" style="height: 100%"></div>
		<script type="text/javascript" src="echarts.min.js"></script>
		<script type="text/javascript" src="usa.js"></script>
		<script type="text/javascript" src="data.js"></script>
		
		<script>
			var $_GET = (function(){
				var url = window.document.location.href.toString();
				var u = url.split("?");
				if(typeof(u[1]) == "string"){
					u = u[1].split("&");
					var get = {};
					for(var i in u){
						var j = u[i].split("=");
						get[j[0]] = j[1];
					}
					return get;
				}
				else {
					return {};
				}
			})();
		</script>

		<script>
			var id=$_GET['id'];
			var myChart = echarts.init(document.getElementById("container"));
			
			option = {
				title : {
					text: id+'州1980年到2014年谋杀案数量统计',
					subtext: 'Data from www.kaggle.com'
				},
				tooltip : {
					trigger: 'axis'
				},
				legend: {
					data:['案件数量','杀手为男','杀手为女','受害者为男','受害者为女']
				},
				toolbox: {
					show : true,
					feature : {
						mark : {show: true},
						dataView : {show: true, readOnly: false},
						magicType : {show: true, type: ['line', 'bar']},
						restore : {show: true},
						saveAsImage : {show: true}
					}
				},
				calculable : true,
				xAxis : [
					{
						type : 'category',
						boundaryGap : false,
						data : [
							1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,
							1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,
							2012,2013,2014
						]
					}
				],
				yAxis : [
					{
						type : 'value',
					}
				],
				series : [
					{
						name:'案件数量',
						type:'line',
						data:dataMap.States[id],
						markPoint : {
							data : [
								{type : 'max', name: '最大值'},
								{type : 'min', name: '最小值'}
							]
						},
						markLine : {
							data : [
								{type : 'average', name: '平均值'}
							]
						}
					},
					{
						name:'杀手为男',
						type:'line',
						data:dataMap.StatesPMale[id],
						markPoint : {
							data : [
								{type : 'max', name: '最大值'},
								{type : 'min', name: '最小值'}
							]
						},
						markLine : {
							data : [
								{type : 'average', name: '平均值'}
							]
						}
					},
					{
						name:'杀手为女',
						type:'line',
						data:dataMap.StatesPFemale[id],
						markPoint : {
							data : [
								{type : 'max', name: '最大值'},
								{type : 'min', name: '最小值'}
							]
						},
						markLine : {
							data : [
								{type : 'average', name: '平均值'}
							]
						}
					},
					{
						name:'受害者为男',
						type:'line',
						data:dataMap.StatesVMale[id],
						markPoint : {
							data : [
								{type : 'max', name: '最大值'},
								{type : 'min', name: '最小值'}
							]
						},
						markLine : {
							data : [
								{type : 'average', name: '平均值'}
							]
						}
					},
					{
						name:'受害者为女',
						type:'line',
						data:dataMap.StatesVFemale[id],
						markPoint : {
							data : [
								{type : 'max', name: '最大值'},
								{type : 'min', name: '最小值'}
							]
						},
						markLine : {
							data : [
								{type : 'average', name: '平均值'}
							]
						}
					}
				]
			};
								
			
			myChart.setOption(option, true);
			
			
		</script>
		
   </body>
</html>